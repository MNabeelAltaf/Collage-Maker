import{j as o,r as v,R,b as H,a as J,y as V}from"./app-KrnwSHJn.js";import{A as K}from"./AuthenticatedLayout-DiwffALl.js";import{c as Q,g as D,d as N,s as x,_ as u,e as B,f as S,h as z,b as Y,u as U,j as k,k as q,l as Z,m as ee,r as te,i as oe,S as I,a as ae,n as L,o as se,A as re,L as ie}from"./ActionBar-WMUz1Erl.js";import{C as ne,d as le}from"./Delete-DK_ZgqZR.js";import{C as ce,A as de}from"./Autocomplete-BElCKSLM.js";import{u as ue,c as G,T as pe,I as ge,S as me,A as he}from"./Snackbar-DabAd_Z-.js";import{S as fe,M as xe}from"./ModelComponent-DWRQufwO.js";import"./ApplicationLogo-D2EIyXXd.js";import"./transition-BODHFSKf.js";import"./Box-C3rZ52Yg.js";const ve=Q(o.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Ce(e){return D("MuiAvatar",e)}N("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const be=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],ye=G(),we=e=>{const{classes:t,variant:a,colorDefault:s}=e;return z({root:["root",a,s&&"colorDefault"],img:["img"],fallback:["fallback"]},Ce,t)},ke=x("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],a.colorDefault&&t.colorDefault]}})(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:u({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:u({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]})),Se=x("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),je=x(ve,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function Ae({crossOrigin:e,referrerPolicy:t,src:a,srcSet:s}){const[r,n]=v.useState(!1);return v.useEffect(()=>{if(!a&&!s)return;n(!1);let l=!0;const i=new Image;return i.onload=()=>{l&&n("loaded")},i.onerror=()=>{l&&n("error")},i.crossOrigin=e,i.referrerPolicy=t,i.src=a,s&&(i.srcset=s),()=>{l=!1}},[e,t,a,s]),r}const $e=v.forwardRef(function(t,a){const s=ye({props:t,name:"MuiAvatar"}),{alt:r,children:n,className:l,component:i="div",slots:c={},slotProps:p={},imgProps:g,sizes:m,src:C,srcSet:b,variant:j="circular"}=s,T=B(s,be);let y=null;const F=Ae(u({},g,{src:C,srcSet:b})),A=C||b,$=A&&F!=="error",w=u({},s,{colorDefault:!$,component:i,variant:j}),M=we(w),[d,f]=ue("img",{className:M.img,elementType:Se,externalForwardedProps:{slots:c,slotProps:{img:u({},g,p.img)}},additionalProps:{alt:r,src:C,srcSet:b,sizes:m},ownerState:w});return $?y=o.jsx(d,u({},f)):n||n===0?y=n:A&&r?y=r[0]:y=o.jsx(je,{ownerState:w,className:M.fallback}),o.jsx(ke,u({as:i,ownerState:w,className:S(M.root,l),ref:a},T,{children:y}))}),Me=$e;function Re(e){return D("MuiCardActionArea",e)}const Ie=N("MuiCardActionArea",["root","focusVisible","focusHighlight"]),O=Ie,De=["children","className","focusVisibleClassName"],Ne=e=>{const{classes:t}=e;return z({root:["root"],focusHighlight:["focusHighlight"]},Re,t)},Be=x(Y,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${O.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${O.focusVisible} .${O.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}})),ze=x("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})})),Te=v.forwardRef(function(t,a){const s=U({props:t,name:"MuiCardActionArea"}),{children:r,className:n,focusVisibleClassName:l}=s,i=B(s,De),c=s,p=Ne(c);return o.jsxs(Be,u({className:S(p.root,n),focusVisibleClassName:S(l,p.focusVisible),ref:a,ownerState:c},i,{children:[r,o.jsx(ze,{className:p.focusHighlight,ownerState:c})]}))}),Fe=Te;function Pe(e){return D("MuiCardContent",e)}N("MuiCardContent",["root"]);const Ee=["className","component"],Oe=e=>{const{classes:t}=e;return z({root:["root"]},Pe,t)},He=x("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Ue=v.forwardRef(function(t,a){const s=U({props:t,name:"MuiCardContent"}),{className:r,component:n="div"}=s,l=B(s,Ee),i=u({},s,{component:n}),c=Oe(i);return o.jsx(He,u({as:n,className:S(c.root,r),ownerState:i,ref:a},l))}),_e=Ue;function Ve(e){return D("MuiCardMedia",e)}N("MuiCardMedia",["root","media","img"]);const qe=["children","className","component","image","src","style"],Le=e=>{const{classes:t,isMediaComponent:a,isImageComponent:s}=e;return z({root:["root",a&&"media",s&&"img"]},Ve,t)},Ge=x("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e,{isMediaComponent:s,isImageComponent:r}=a;return[t.root,s&&t.media,r&&t.img]}})(({ownerState:e})=>u({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),We=["video","audio","picture","iframe","img"],Xe=["picture","img"],Je=v.forwardRef(function(t,a){const s=U({props:t,name:"MuiCardMedia"}),{children:r,className:n,component:l="div",image:i,src:c,style:p}=s,g=B(s,qe),m=We.indexOf(l)!==-1,C=!m&&i?u({backgroundImage:`url("${i}")`},p):p,b=u({},s,{component:l,isMediaComponent:m,isImageComponent:Xe.indexOf(l)!==-1}),j=Le(b);return o.jsx(Ge,u({className:S(j.root,n),as:l,role:!m&&i?"img":void 0,ref:a,style:C,ownerState:b,src:m?i||c:void 0},g,{children:r}))}),Ke=Je;function Qe(e){return D("MuiSwitch",e)}const h=N("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Ye=["className","color","edge","size","sx"],Ze=G(),et=e=>{const{classes:t,edge:a,size:s,color:r,checked:n,disabled:l}=e,i={root:["root",a&&`edge${k(a)}`,`size${k(s)}`],switchBase:["switchBase",`color${k(r)}`,n&&"checked",l&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=z(i,Qe,t);return u({},t,c)},tt=x("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.edge&&t[`edge${k(a.edge)}`],t[`size${k(a.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${h.thumb}`]:{width:16,height:16},[`& .${h.switchBase}`]:{padding:4,[`&.${h.checked}`]:{transform:"translateX(16px)"}}}}]}),ot=x(fe,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.switchBase,{[`& .${h.input}`]:t.input},a.color!=="default"&&t[`color${k(a.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${h.checked}`]:{transform:"translateX(20px)"},[`&.${h.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${h.checked} + .${h.track}`]:{opacity:.5},[`&.${h.disabled} + .${h.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${h.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:q(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${h.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:q(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${h.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?Z(e.palette[t].main,.62):ee(e.palette[t].main,.55)}`}},[`&.${h.checked} + .${h.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),at=x("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),st=x("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),rt=v.forwardRef(function(t,a){const s=Ze({props:t,name:"MuiSwitch"}),{className:r,color:n="primary",edge:l=!1,size:i="medium",sx:c}=s,p=B(s,Ye),g=u({},s,{color:n,edge:l,size:i}),m=et(g),C=o.jsx(st,{className:m.thumb,ownerState:g});return o.jsxs(tt,{className:S(m.root,r),sx:c,ownerState:g,children:[o.jsx(ot,u({type:"checkbox",icon:C,checkedIcon:C,ref:a,ownerState:g},p,{classes:u({},m,{root:m.switchBase})})),o.jsx(at,{className:m.track,ownerState:g})]})}),it=rt;var _={},nt=oe;Object.defineProperty(_,"__esModule",{value:!0});var W=_.default=void 0,lt=nt(te()),ct=o;W=_.default=(0,lt.default)((0,ct.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const dt=({data:e,foregroundColor:t,backgroundColor:a,color:s})=>o.jsx(ce,{size:"small",sx:{backgroundColor:a,color:s,margin:"2px 2px"},avatar:o.jsx(Me,{sx:{backgroundColor:t,color:s},children:e[0]}),label:e});let ut="21|7WiAwk3nkyfyUxHm4NHbvW3J9qsTdwvN99l0sMO37fc076cd";const pt=({data:e,actionButtonClick:t})=>{const[a,s]=R.useState(e.type.split(", ")),[r,n]=R.useState(!!e.show),l={Background:{fg:"#03AED2",bg:"#68D2E8",tc:"white"},Pattern:{fg:"#F8C794",bg:"#FFF2D7",tc:"black"},Sticker:{fg:"#6AD4DD",bg:"#97E7E1",tc:"black"},Solid:{fg:"#9BBEC8",bg:"#DDF2FD",tc:"black"},Gradient:{fg:"#5DEBD7",bg:"#8DECB4",tc:"black"}},i=async()=>{n(!r),await H.get(route("toggle.category")+"?id="+e.id,{headers:{Authorization:`Bearer ${ut}`}})};return o.jsxs(ne,{sx:{maxWidth:345,margin:"20px"},children:[o.jsx(Fe,{children:o.jsx(Ke,{sx:{minHeight:"200px",objectFit:"cover",opacity:r==!0?.8:.6},component:"img",image:`https://ui-avatars.com/api/?background=random&name=${e.name[0]+e.name[1]}&font-size=0.5&size=256`,alt:e.name})}),o.jsxs(_e,{sx:{display:"flex",flexDirection:"column",position:"relative"},children:[o.jsxs(I,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(pe,{gutterBottom:!0,variant:"h6",component:"div",children:e.name}),o.jsx(it,{edge:"end",size:"small",onChange:i,checked:r,inputProps:{"aria-labelledby":e.name+e.id}})]}),o.jsx(I,{direction:"row",flexWrap:"wrap",children:a.map((c,p)=>o.jsx(dt,{data:c,color:l[c].tc,foregroundColor:l[c].fg,backgroundColor:l[c].bg},p))}),o.jsx(I,{sx:{position:"absolute",bottom:"4px",right:"7px",display:"flex",flexDirection:"row"},children:o.jsx(ge,{"aria-label":"delete",size:"small",color:"disabled",onClick:()=>t(e.id,e.name,"delete"),children:o.jsx(le,{sx:{width:"20px",height:"20px",color:"#d60032"}})})})]})]})},gt=pt,mt=x("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function ht({name:e="",title:t="Thumbnail",onFileSelect:a=""}){const s=r=>{const n=r.target.files[0];a(n)};return o.jsxs(ae,{component:"label",role:void 0,variant:"contained",tabIndex:-1,startIcon:o.jsx(W,{}),children:[t,o.jsx(mt,{name:e,type:"file",onChange:s})]})}const ft=({onClick:e,sx:t={},variant:a="filledTonal",isGray:s=!0,submit:r=!1,className:n="",children:l,...i})=>{const c=x(L)(({theme:p})=>({color:"#202020",backgroundColor:"rgba(0,0,0,0.1)"}));return s?o.jsx(c,{type:r?"submit":"button",color:"primary",size:"small",variant:a,onClick:e,className:n,...i,sx:t,children:l}):o.jsx(L,{type:r?"submit":"button",color:"primary",size:"small",variant:a,onClick:e,className:n,...i,sx:t,children:l})},xt=ft;function vt({categories:e,handleCategoryChangeInModal:t}){return o.jsx(de,{multiple:!0,limitTags:2,id:"multiple-limit-tags",options:e,getOptionLabel:a=>a,onChange:t,renderInput:a=>o.jsx(se,{...a,label:"Categories",placeholder:"Select types"}),sx:{width:"100%",margin:"20px 0px"}})}function Rt({auth:e,data:t,type:a,categories:s,title:r,headerOptions:n}){const[l,i]=v.useState(null);v.useState("");const[c,p]=R.useState({status:!1,message:"",color:""}),[g,m]=v.useState({}),[C,b]=R.useState(""),j=(d,f)=>{console.log(f.join(", ")),b(f.join(", "))};R.useEffect(()=>{let d=n[0];m({title:d.title,isOpen:!1,href:d.href})},[]);const T=()=>{p({status:!1,message:"",color:""})},y=v.useRef(null),F=d=>{i(d)},A=(d,f)=>{},$=(d,f=!1)=>{f=!g.isOpen,m(f?{...g,isOpen:!0}:{...g,isOpen:!1})},w=(d,f,X)=>{const P=new FormData;P.append("uni",d),X=="delete"&&(P.append("actionType","delete"),H.post(route("manage.category"),P).then(E=>{V.reload({only:["data"]}),p({status:!0,message:E.data.message,color:"error"}),setTimeout(()=>{T()},3500)}).catch(E=>{console.error("Error uploading file: ",E)}))},M=()=>{const d=new FormData;d.append("name",y.current.value),d.append("type",C),d.append("actionType","store"),H.post(route("manage.category"),d,{headers:{"Content-Type":"multipart/form-data"}}).then(f=>{V.reload({only:["data"]}),p({status:!0,message:"New category added",color:"success"}),setTimeout(()=>{T()},3500)}).catch(f=>{console.error("Error uploading file: ",f)})};return o.jsxs(K,{user:e.user,header:o.jsx("h2",{className:"font-bold text-xl text-gray-800 leading-tight",children:r}),actionBar:o.jsx(re,{type:a,headerOptions:n,handleChange:$}),children:[o.jsx(J,{title:"Categories"}),o.jsxs("div",{className:"square-pattern-bg ",children:[c.status&&o.jsx(me,{anchorOrigin:{vertical:"top",horizontal:"right"},open:c.status,autoHideDuration:3500,onClose:A,children:o.jsx(he,{onClose:A,severity:c.color,variant:"filled",sx:{width:"100%"},children:c.message})}),o.jsx(xe,{href:g.href,isOpen:g.isOpen,closed:d=>$(d,!0),children:o.jsxs(I,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",minHeight:"200px"},children:[o.jsx("input",{ref:y,type:"text",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4",placeholder:"Category name",required:!0}),o.jsx(vt,{handleCategoryChangeInModal:j,categories:s}),o.jsxs(I,{sx:{marginTop:"5px",display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"},children:[o.jsx(ht,{width:"48%",onFileSelect:F}),o.jsx(xt,{sx:{width:"48%"},onClick:M,children:"Create"})]})]})}),o.jsx(ie,{className:"categoriey-items",sx:{width:"100%",padding:"30px"},children:t.map((d,f)=>o.jsx(gt,{data:d,actionButtonClick:w},d.id))})]})]})}export{Rt as default};

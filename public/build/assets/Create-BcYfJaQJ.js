import{g as Ar,j as f,r as p,R,a as Er,b as Sr}from"./app-KrnwSHJn.js";import{A as Cr}from"./AuthenticatedLayout-DiwffALl.js";import{r as Or,i as Fr,B as _r,a as Ke,G as rr,P as Tr,M as Pr,s as J,I as kr,b as Ir,A as Rr,S as zr}from"./ActionBar-WMUz1Erl.js";import{P as tr,a as W}from"./Autocomplete-BElCKSLM.js";import{M as Mr}from"./MenuItem-E7RDDDLD.js";import{C as Lr,S as $r,A as Br,T as Wr}from"./Snackbar-DabAd_Z-.js";import{C as Kr}from"./CustomSelectCategoryBox-CTmT3N-4.js";import"./ApplicationLogo-D2EIyXXd.js";import"./transition-BODHFSKf.js";var nr={exports:{}},Hr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nr=Hr,Ur=Nr;function or(){}function ir(){}ir.resetWarningCache=or;var Gr=function(){function e(n,i,o,l,c,m){if(m!==Ur){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:ir,resetWarningCache:or};return t.PropTypes=t,t};nr.exports=Gr();var qr=nr.exports;const g=Ar(qr);var Oe={},Yr=Fr;Object.defineProperty(Oe,"__esModule",{value:!0});var ar=Oe.default=void 0,Vr=Yr(Or()),Jr=f;ar=Oe.default=(0,Vr.default)((0,Jr.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");function Qr({options:e,changeAssetType:r}){const[t,n]=p.useState(!1),i=p.useRef(null),[o,l]=p.useState(0),c=()=>{console.info(`You clicked ${e[o]}`)},m=(d,x)=>{l(x),r(x),n(!1)},s=()=>{n(d=>!d)},y=d=>{i.current&&i.current.contains(d.target)||n(!1)};return f.jsxs(p.Fragment,{children:[f.jsxs(_r,{variant:"contained",ref:i,"aria-label":"Button group with a nested menu",children:[f.jsx(Ke,{onClick:c,children:e[o]}),f.jsx(Ke,{size:"small","aria-controls":t?"split-button-menu":void 0,"aria-expanded":t?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:s,children:f.jsx(ar,{})})]}),f.jsx(tr,{sx:{zIndex:1},open:t,anchorEl:i.current,role:void 0,transition:!0,disablePortal:!0,children:({TransitionProps:d,placement:x})=>f.jsx(rr,{...d,style:{transformOrigin:x==="bottom"?"center top":"center bottom"},children:f.jsx(Tr,{children:f.jsx(Lr,{onClickAway:y,children:f.jsx(Pr,{id:"split-button-menu",autoFocusItem:!0,children:e.map((j,E)=>f.jsx(Mr,{disabled:E===0,selected:E===o,onClick:F=>m(F,E),children:j},j))})})})})})]})}J("div")(({theme:e})=>({[`& .${W.paper}`]:{boxShadow:"none",margin:0,color:"inherit",fontSize:13},[`& .${W.listbox}`]:{backgroundColor:e.palette.mode==="light"?"#fff":"#1c2128",padding:0,[`& .${W.option}`]:{minHeight:"auto",alignItems:"flex-start",padding:8,borderBottom:`1px solid  ${e.palette.mode==="light"?" #eaecef":"#30363d"}`,'&[aria-selected="true"]':{backgroundColor:"transparent"},[`&.${W.focused}, &.${W.focused}[aria-selected="true"]`]:{backgroundColor:e.palette.action.hover}}},[`&.${W.popperDisablePortal}`]:{position:"relative"}}));g.any,g.bool,g.bool.isRequired;J(tr)(({theme:e})=>({border:`1px solid ${e.palette.mode==="light"?"#e1e4e8":"#30363d"}`,boxShadow:`0 8px 24px ${e.palette.mode==="light"?"rgba(149, 157, 165, 0.2)":"rgb(1, 4, 9)"}`,borderRadius:6,width:300,zIndex:e.zIndex.modal,fontSize:13,color:e.palette.mode==="light"?"#24292e":"#c9d1d9",backgroundColor:e.palette.mode==="light"?"#fff":"#1c2128"}));J(kr)(({theme:e})=>({padding:10,width:"100%",borderBottom:`1px solid ${e.palette.mode==="light"?"#eaecef":"#30363d"}`,"& input":{borderRadius:4,backgroundColor:e.palette.mode==="light"?"#fff":"#0d1117",padding:8,transition:e.transitions.create(["border-color","box-shadow"]),border:`1px solid ${e.palette.mode==="light"?"#eaecef":"#30363d"}`,fontSize:14,"&:focus":{boxShadow:`0px 0px 0px 3px ${e.palette.mode==="light"?"rgba(3, 102, 214, 0.3)":"rgb(12, 45, 107)"}`,borderColor:e.palette.mode==="light"?"#0366d6":"#388bfd"}}}));J(Ir)(({theme:e})=>({fontSize:13,width:"100%",textAlign:"left",paddingBottom:8,color:e.palette.mode==="light"?"#586069":"#8b949e",fontWeight:600,"&:hover,&:focus":{color:e.palette.mode==="light"?"#0366d6":"#58a6ff"},"& span":{width:"100%"},"& svg":{width:16,height:16}}));function K(e,r,t,n){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(y){try{s(n.next(y))}catch(d){l(d)}}function m(y){try{s(n.throw(y))}catch(d){l(d)}}function s(y){y.done?o(y.value):i(y.value).then(c,m)}s((n=n.apply(e,r||[])).next())})}function H(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(s){return function(y){return m([s,y])}}function m(s){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,s[0]&&(t=0)),t;)try{if(n=1,i&&(o=s[0]&2?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,i=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){t.label=s[1];break}if(s[0]===6&&t.label<o[1]){t.label=o[1],o=s;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(s);break}o[2]&&t.ops.pop(),t.trys.pop();continue}s=r.call(e,t)}catch(y){s=[6,y],i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function He(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],l;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return o}function Ne(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}var Xr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Q(e,r){var t=Zr(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Zr(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),i=Xr.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var et=[".DS_Store","Thumbs.db"];function rt(e){return K(this,void 0,void 0,function(){return H(this,function(r){return le(e)&&tt(e.dataTransfer)?[2,at(e.dataTransfer,e.type)]:nt(e)?[2,ot(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,it(e)]:[2,[]]})})}function tt(e){return le(e)}function nt(e){return le(e)&&le(e.target)}function le(e){return typeof e=="object"&&e!==null}function ot(e){return je(e.target.files).map(function(r){return Q(r)})}function it(e){return K(this,void 0,void 0,function(){var r;return H(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return Q(n)})]}})})}function at(e,r){return K(this,void 0,void 0,function(){var t,n;return H(this,function(i){switch(i.label){case 0:return e.items?(t=je(e.items).filter(function(o){return o.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(st))]):[3,2];case 1:return n=i.sent(),[2,Ue(sr(n))];case 2:return[2,Ue(je(e.files).map(function(o){return Q(o)}))]}})})}function Ue(e){return e.filter(function(r){return et.indexOf(r.name)===-1})}function je(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function st(e){if(typeof e.webkitGetAsEntry!="function")return Ge(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?lr(r):Ge(e)}function sr(e){return e.reduce(function(r,t){return Ne(Ne([],He(r),!1),He(Array.isArray(t)?sr(t):[t]),!1)},[])}function Ge(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=Q(r);return Promise.resolve(t)}function lt(e){return K(this,void 0,void 0,function(){return H(this,function(r){return[2,e.isDirectory?lr(e):ct(e)]})})}function lr(e){var r=e.createReader();return new Promise(function(t,n){var i=[];function o(){var l=this;r.readEntries(function(c){return K(l,void 0,void 0,function(){var m,s,y;return H(this,function(d){switch(d.label){case 0:if(c.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return m=d.sent(),t(m),[3,4];case 3:return s=d.sent(),n(s),[3,4];case 4:return[3,6];case 5:y=Promise.all(c.map(lt)),i.push(y),o(),d.label=6;case 6:return[2]}})})},function(c){n(c)})}o()})}function ct(e){return K(this,void 0,void 0,function(){return H(this,function(r){return[2,new Promise(function(t,n){e.file(function(i){var o=Q(i,e.fullPath);t(o)},function(i){n(i)})})]})})}var ut=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return t.some(function(l){var c=l.trim().toLowerCase();return c.charAt(0)==="."?n.toLowerCase().endsWith(c):c.endsWith("/*")?o===c.replace(/\/.*$/,""):i===c})}return!0};function qe(e){return dt(e)||pt(e)||ur(e)||ft()}function ft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dt(e){if(Array.isArray(e))return Ae(e)}function Ye(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Ve(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ye(Object(t),!0).forEach(function(n){cr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ye(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function cr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function V(e,r){return yt(e)||mt(e,r)||ur(e,r)||gt()}function gt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ur(e,r){if(e){if(typeof e=="string")return Ae(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ae(e,r)}}function Ae(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,l,c;try{for(t=t.call(e);!(i=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));i=!0);}catch(m){o=!0,c=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}return n}}function yt(e){if(Array.isArray(e))return e}var vt="file-invalid-type",ht="file-too-large",bt="file-too-small",xt="too-many-files",wt=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:vt,message:"File type must be ".concat(t)}},Je=function(r){return{code:ht,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},Qe=function(r){return{code:bt,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},Dt={code:xt,message:"Too many files"};function fr(e,r){var t=e.type==="application/x-moz-file"||ut(e,r);return[t,t?null:wt(r)]}function pr(e,r,t){if(I(e.size))if(I(r)&&I(t)){if(e.size>t)return[!1,Je(t)];if(e.size<r)return[!1,Qe(r)]}else{if(I(r)&&e.size<r)return[!1,Qe(r)];if(I(t)&&e.size>t)return[!1,Je(t)]}return[!0,null]}function I(e){return e!=null}function jt(e){var r=e.files,t=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,l=e.maxFiles,c=e.validator;return!o&&r.length>1||o&&l>=1&&r.length>l?!1:r.every(function(m){var s=fr(m,t),y=V(s,1),d=y[0],x=pr(m,n,i),j=V(x,1),E=j[0],F=c?c(m):null;return d&&E&&!F})}function ce(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function se(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Xe(e){e.preventDefault()}function At(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Et(e){return e.indexOf("Edge/")!==-1}function St(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return At(e)||Et(e)}function _(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return r.some(function(c){return!ce(n)&&c&&c.apply(void 0,[n].concat(o)),ce(n)})}}function Ct(){return"showOpenFilePicker"in window}function Ot(e){if(I(e)){var r=Object.entries(e).filter(function(t){var n=V(t,2),i=n[0],o=n[1],l=!0;return dr(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(o)||!o.every(gr))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,n){var i=V(n,2),o=i[0],l=i[1];return Ve(Ve({},t),{},cr({},o,l))},{});return[{description:"Files",accept:r}]}return e}function Ft(e){if(I(e))return Object.entries(e).reduce(function(r,t){var n=V(t,2),i=n[0],o=n[1];return[].concat(qe(r),[i],qe(o))},[]).filter(function(r){return dr(r)||gr(r)}).join(",")}function _t(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Tt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function dr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function gr(e){return/^.*\.[\w]+$/.test(e)}var Pt=["children"],kt=["open"],It=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Rt=["refKey","onChange","onClick"];function zt(e){return $t(e)||Lt(e)||mr(e)||Mt()}function Mt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $t(e){if(Array.isArray(e))return Ee(e)}function De(e,r){return Kt(e)||Wt(e,r)||mr(e,r)||Bt()}function Bt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mr(e,r){if(e){if(typeof e=="string")return Ee(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ee(e,r)}}function Ee(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Wt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,l,c;try{for(t=t.call(e);!(i=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));i=!0);}catch(m){o=!0,c=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}return n}}function Kt(e){if(Array.isArray(e))return e}function Ze(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ze(Object(t),!0).forEach(function(n){Se(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ze(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Se(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ue(e,r){if(e==null)return{};var t=Ht(e,r),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Ht(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}var Fe=p.forwardRef(function(e,r){var t=e.children,n=ue(e,Pt),i=vr(n),o=i.open,l=ue(i,kt);return p.useImperativeHandle(r,function(){return{open:o}},[o]),R.createElement(p.Fragment,null,t(v(v({},l),{},{open:o})))});Fe.displayName="Dropzone";var yr={disabled:!1,getFilesFromEvent:rt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Fe.defaultProps=yr;Fe.propTypes={children:g.func,accept:g.objectOf(g.arrayOf(g.string)),multiple:g.bool,preventDropOnDocument:g.bool,noClick:g.bool,noKeyboard:g.bool,noDrag:g.bool,noDragEventsBubbling:g.bool,minSize:g.number,maxSize:g.number,maxFiles:g.number,disabled:g.bool,getFilesFromEvent:g.func,onFileDialogCancel:g.func,onFileDialogOpen:g.func,useFsAccessApi:g.bool,autoFocus:g.bool,onDragEnter:g.func,onDragLeave:g.func,onDragOver:g.func,onDrop:g.func,onDropAccepted:g.func,onDropRejected:g.func,onError:g.func,validator:g.func};var Ce={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function vr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=v(v({},yr),e),t=r.accept,n=r.disabled,i=r.getFilesFromEvent,o=r.maxSize,l=r.minSize,c=r.multiple,m=r.maxFiles,s=r.onDragEnter,y=r.onDragLeave,d=r.onDragOver,x=r.onDrop,j=r.onDropAccepted,E=r.onDropRejected,F=r.onFileDialogCancel,N=r.onFileDialogOpen,X=r.useFsAccessApi,z=r.autoFocus,U=r.preventDropOnDocument,Z=r.noClick,b=r.noKeyboard,w=r.noDrag,T=r.noDragEventsBubbling,fe=r.onError,G=r.validator,q=p.useMemo(function(){return Ft(t)},[t]),_e=p.useMemo(function(){return Ot(t)},[t]),pe=p.useMemo(function(){return typeof N=="function"?N:er},[N]),ee=p.useMemo(function(){return typeof F=="function"?F:er},[F]),A=p.useRef(null),O=p.useRef(null),hr=p.useReducer(Nt,Ce),Te=De(hr,2),de=Te[0],S=Te[1],br=de.isFocused,Pe=de.isFileDialogActive,re=p.useRef(typeof window<"u"&&window.isSecureContext&&X&&Ct()),ke=function(){!re.current&&Pe&&setTimeout(function(){if(O.current){var u=O.current.files;u.length||(S({type:"closeDialog"}),ee())}},300)};p.useEffect(function(){return window.addEventListener("focus",ke,!1),function(){window.removeEventListener("focus",ke,!1)}},[O,Pe,ee,re]);var M=p.useRef([]),Ie=function(u){A.current&&A.current.contains(u.target)||(u.preventDefault(),M.current=[])};p.useEffect(function(){return U&&(document.addEventListener("dragover",Xe,!1),document.addEventListener("drop",Ie,!1)),function(){U&&(document.removeEventListener("dragover",Xe),document.removeEventListener("drop",Ie))}},[A,U]),p.useEffect(function(){return!n&&z&&A.current&&A.current.focus(),function(){}},[A,z,n]);var P=p.useCallback(function(a){fe?fe(a):console.error(a)},[fe]),Re=p.useCallback(function(a){a.preventDefault(),a.persist(),ie(a),M.current=[].concat(zt(M.current),[a.target]),se(a)&&Promise.resolve(i(a)).then(function(u){if(!(ce(a)&&!T)){var h=u.length,D=h>0&&jt({files:u,accept:q,minSize:l,maxSize:o,multiple:c,maxFiles:m,validator:G}),C=h>0&&!D;S({isDragAccept:D,isDragReject:C,isDragActive:!0,type:"setDraggedFiles"}),s&&s(a)}}).catch(function(u){return P(u)})},[i,s,P,T,q,l,o,c,m,G]),ze=p.useCallback(function(a){a.preventDefault(),a.persist(),ie(a);var u=se(a);if(u&&a.dataTransfer)try{a.dataTransfer.dropEffect="copy"}catch{}return u&&d&&d(a),!1},[d,T]),Me=p.useCallback(function(a){a.preventDefault(),a.persist(),ie(a);var u=M.current.filter(function(D){return A.current&&A.current.contains(D)}),h=u.indexOf(a.target);h!==-1&&u.splice(h,1),M.current=u,!(u.length>0)&&(S({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),se(a)&&y&&y(a))},[A,y,T]),te=p.useCallback(function(a,u){var h=[],D=[];a.forEach(function(C){var Y=fr(C,q),B=De(Y,2),me=B[0],ye=B[1],ve=pr(C,l,o),ae=De(ve,2),he=ae[0],be=ae[1],xe=G?G(C):null;if(me&&he&&!xe)h.push(C);else{var we=[ye,be];xe&&(we=we.concat(xe)),D.push({file:C,errors:we.filter(function(jr){return jr})})}}),(!c&&h.length>1||c&&m>=1&&h.length>m)&&(h.forEach(function(C){D.push({file:C,errors:[Dt]})}),h.splice(0)),S({acceptedFiles:h,fileRejections:D,type:"setFiles"}),x&&x(h,D,u),D.length>0&&E&&E(D,u),h.length>0&&j&&j(h,u)},[S,c,q,l,o,m,x,j,E,G]),ne=p.useCallback(function(a){a.preventDefault(),a.persist(),ie(a),M.current=[],se(a)&&Promise.resolve(i(a)).then(function(u){ce(a)&&!T||te(u,a)}).catch(function(u){return P(u)}),S({type:"reset"})},[i,te,P,T]),L=p.useCallback(function(){if(re.current){S({type:"openDialog"}),pe();var a={multiple:c,types:_e};window.showOpenFilePicker(a).then(function(u){return i(u)}).then(function(u){te(u,null),S({type:"closeDialog"})}).catch(function(u){_t(u)?(ee(u),S({type:"closeDialog"})):Tt(u)?(re.current=!1,O.current?(O.current.value=null,O.current.click()):P(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):P(u)});return}O.current&&(S({type:"openDialog"}),pe(),O.current.value=null,O.current.click())},[S,pe,ee,X,te,P,_e,c]),Le=p.useCallback(function(a){!A.current||!A.current.isEqualNode(a.target)||(a.key===" "||a.key==="Enter"||a.keyCode===32||a.keyCode===13)&&(a.preventDefault(),L())},[A,L]),$e=p.useCallback(function(){S({type:"focus"})},[]),Be=p.useCallback(function(){S({type:"blur"})},[]),We=p.useCallback(function(){Z||(St()?setTimeout(L,0):L())},[Z,L]),$=function(u){return n?null:u},ge=function(u){return b?null:$(u)},oe=function(u){return w?null:$(u)},ie=function(u){T&&u.stopPropagation()},xr=p.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=a.refKey,h=u===void 0?"ref":u,D=a.role,C=a.onKeyDown,Y=a.onFocus,B=a.onBlur,me=a.onClick,ye=a.onDragEnter,ve=a.onDragOver,ae=a.onDragLeave,he=a.onDrop,be=ue(a,It);return v(v(Se({onKeyDown:ge(_(C,Le)),onFocus:ge(_(Y,$e)),onBlur:ge(_(B,Be)),onClick:$(_(me,We)),onDragEnter:oe(_(ye,Re)),onDragOver:oe(_(ve,ze)),onDragLeave:oe(_(ae,Me)),onDrop:oe(_(he,ne)),role:typeof D=="string"&&D!==""?D:"presentation"},h,A),!n&&!b?{tabIndex:0}:{}),be)}},[A,Le,$e,Be,We,Re,ze,Me,ne,b,w,n]),wr=p.useCallback(function(a){a.stopPropagation()},[]),Dr=p.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=a.refKey,h=u===void 0?"ref":u,D=a.onChange,C=a.onClick,Y=ue(a,Rt),B=Se({accept:q,multiple:c,type:"file",style:{display:"none"},onChange:$(_(D,ne)),onClick:$(_(C,wr)),tabIndex:-1},h,O);return v(v({},B),Y)}},[O,t,c,ne,n]);return v(v({},de),{},{isFocused:br&&!n,getRootProps:xr,getInputProps:Dr,rootRef:A,inputRef:O,open:$(L)})}function Nt(e,r){switch(r.type){case"focus":return v(v({},e),{},{isFocused:!0});case"blur":return v(v({},e),{},{isFocused:!1});case"openDialog":return v(v({},Ce),{},{isFileDialogActive:!0});case"closeDialog":return v(v({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return v(v({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return v(v({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return v({},Ce);default:return e}}function er(){}const Ut=({handleFileChange:e})=>{const[r,t]=p.useState([]),n=p.useCallback(d=>{const x=d.map(j=>({file:j,preview:URL.createObjectURL(j)}));t(j=>[...j,...x])},[]);R.useEffect(()=>{e(r)},[r]);const{getRootProps:i,getInputProps:o,isDragActive:l,isFocused:c,isDragAccept:m,isDragReject:s}=vr({onDrop:n,accept:{"image/png":[".png"],"image/jpg":[".jpg"],"image/jpeg":[".jpeg"],"image/webp":[".webp"]},multiple:!0}),y=R.useMemo(()=>({...k.baseStyle,...c?k.focusedStyle:{},...m?k.acceptStyle:{},...s?k.rejectStyle:{}}),[c,m,s]);return f.jsxs("div",{children:[f.jsxs("div",{...i({style:y}),children:[f.jsx("input",{...o()}),l?f.jsx("p",{children:"Drop the files here ..."}):f.jsx("p",{children:"Drag 'n' drop some files here, or click to select files"})]}),f.jsx("div",{style:k.previewContainer,children:r.map((d,x)=>f.jsx("div",{style:k.imageContainer,children:f.jsx("img",{src:d.preview,alt:`preview-${x}`,style:k.image})},x))})]})},k={baseStyle:{cursor:"pointer",flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:5,borderRadius:2,borderColor:"#444",borderStyle:"dashed",backgroundColor:"#eee",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},focusedStyle:{borderColor:"#2196f3"},acceptStyle:{borderColor:"#00e676"},rejectStyle:{borderColor:"#ff1744"},previewContainer:{display:"flex",flexWrap:"wrap",marginTop:"20px"},imageContainer:{margin:"10px",width:"150px",height:"150px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},image:{width:"100%",height:"100%",objectFit:"cover"}},Gt=Ut;J("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function tn({auth:e,type:r,title:t,categories:n,headerOptions:i}){const[o,l]=R.useState({status:!1,message:"",severity:""}),[c,m]=R.useState(null),[s,y]=R.useState(0),[d,x]=R.useState({name:"",id:""}),j=b=>{b.length&&m(b)},E=(b,w)=>{l({status:!0,message:b,severity:w})},F=(b,w)=>{w!=="clickaway"&&l(!1)},N=async()=>{if(!c){E("No file selected","warning");return}if(s==0){E("Select the asset type first","warning");return}if(d.name===""){E("Select a category first","warning");return}const b=new FormData;b.append("type",z[s]),c.forEach((w,T)=>{b.append(`images[${T}][image]`,w.file)}),b.append("category_id",d.id),b.append("category_name",d.name),b.append("user_id",e.user.id),Sr.post(route("save.single.asset"),b,{headers:{"Content-Type":"multipart/form-data"}}).then(w=>{console.log(w.data),E(w.data.message,"success")}).catch(w=>{console.error("Error : ",w)})},X={Create:function(){N()}},z=["Select Type","Pattern","Sticker","Background","Solid Color","Gradient"],U=(b,w)=>{w&&x({name:w.name,id:w.id})},Z=b=>{y(b)};return f.jsxs(Cr,{user:e.user,header:f.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:[s!=0&&"Upload "+z[s],s==0&&"Upload Assets"]}),actionBar:f.jsxs(Rr,{actions:X,headerOptions:i,children:[f.jsx(Kr,{categories:n,changeCategory:U}),f.jsx(Qr,{changeAssetType:Z,options:z})]}),children:[f.jsx(Er,{title:"Dashboard"}),o.status&&f.jsx($r,{open:o.status,autoHideDuration:4e3,onClose:F,TransitionComponent:rr,anchorOrigin:{vertical:"top",horizontal:"right"},children:f.jsx(Br,{onClose:F,severity:o.severity,variant:"filled",sx:{width:"100%"},children:o.message})}),f.jsx("div",{className:"square-pattern-bg ",children:f.jsx("div",{className:"py-12",children:f.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",style:{position:"relative"},children:f.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg py-5",children:[f.jsxs(zr,{padding:20,children:[f.jsx(Wr,{variant:"h1",component:"h1",children:"Select asset file"}),f.jsx(Gt,{handleFileChange:j})]}),f.jsx("div",{})]})})})})]})}export{tn as default};
